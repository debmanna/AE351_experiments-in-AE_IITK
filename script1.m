%% Pressure in PSI || Location of pressure ports in m || Depth at different locations in cm
Pressure = [5.375 -6.184 -3.2896 -2.814 -1.6094 -0.6816 -0.347 -0.1434 -0.1176 -0.0318 -0.0864 -0.0172 -0.0318 -0.0294 -0.0358;
    9.94 -4.695 -7.184 -3.8212 -3.5826 -2.6192 -1.4648 -0.6644 -0.327 -0.1184 -0.1104 -0.0634 -0.0332 -0.025 -0.0142;
    15.1586 -2.6292 -9.0744 -4.6304 -4.5738 -3.826 -2.972 -1.6404 -0.8356 -0.2008 -0.2398 -0.0728 -0.0746 -0.0518 -0.0582;
    20.1438 -0.6858 -8.3106 -9.1292 -1.1308 -1.9964 -3.7598 -2.5976 -2.4164 -0.4546 -0.7542 -0.1694 -0.1784 -0.128 -0.1556;
    25.0022 1.2028 -7.5234 -8.5608 -7.1974 -2.4946 -1.9648 -5.1976 -3.359 -1.0246 -1.5498 -0.282 -0.5394 -0.1928 -0.212;
    30.0622 3.173 -6.6962 -7.7418 -8.054 -5.3246 -4.6784 -4.2776 -5.9128 -1.826 -2.475 -1.8018 -1.3196 -0.777 -0.2708;
    35.1828 5.1682 -5.8968 -6.9214 -7.3194 -8.7348 -5.4208 -4.417 -6.0972 -4.1176 -3.246 -2.2842 -2.725 -1.5574 -1.3402;
    40.6148 7.287 -5.0298 -6.046 -6.5364 -8.102 -8.9958 -5.136 -4.7832 -4.0336 -5.5504 -4.8908 -1.227 -2.8594 -2.729;
    44.9086 8.9774 -4.3464 -5.343 -5.9348 -7.5802 -9.0542 -7.5862 -3.6908 -3.558 -5.9222 -6.5034 -2.7756 -1.31 -1.9226;
    49.6962 10.9382 -3.5968 -4.5878 -5.2704 -6.995 -8.7012 -8.7668 -5.6036 -2.1652 -5.4602 -7.0606 -5.6648 -0.8182 -0.3568;
    55.3254 13.2452 -2.7088 -3.689 -4.4648 -6.3048 -8.2244 -9.4042 -8.3646 -1.8438 -2.8944 -6.1004 -5.7212 -3.7678 -2.4816;
    60.076 15.1628 -1.9764 -2.9308 -3.7646 -5.7184 -7.8134 -9.0846 -9.6002 -5.7588 -3.725 -1.685 -5.0104 -2.8232 -2.213;
    64.4112 16.8462 -1.3012 -2.263 -3.121 -5.192 -7.4386 -8.7742 -9.2934 -6.6006 -7.4636 -4.1518 -1.611 -3.755 -3.4958]+14.6959;

Location = [0 0.05 0.08 0.1 0.12 0.135 0.165 0.185 0.205 0.233 0.246 0.262 0.275 0.29 0.295];

Depth = [7.5 3 4 5.8 6.4 6.8 7.5 7.6 7.7 7.8 7.9 7.9 7.9 7.9 7.9];

% depth of throat in cm
Depth_throat = 2.5;

% gamma of air
gamma = 1.4;

%{
% P_0/P_x = (1+(gamma-1)/2 * M_ac^2)^(gamma/gamma-1)
M_ac = zeros(13,15);

for j=(2:1:15)
    M_ac(:,j) =  ( 2/(gamma-1) * ( (Pressure(:,1)./Pressure(:,j)).^((gamma-1)/gamma) - 1 ) ).^(0.5);
end

plot(Location,M_ac(1:13,:),'-*g');
%}

RatioOfPressure = zeros(13,15);
RatioOfArea = Depth./Depth_throat;

for j=(1:1:15)
    RatioOfPressure(:,j) = (Pressure(:,1)./Pressure(:,j));
end

%{
plot(RatioOfArea,RatioOfPressure(13,1:end),'-og');
xlabel("A/A*");
ylabel("P_0/P_x");
title("A/A* vs P0/Px");
%}

